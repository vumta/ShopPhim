Khi Microsoft Forms tráº£ vá» file Ä‘Ã­nh kÃ¨m trong Power Automate, nÃ³ sáº½ cÃ³ dáº¡ng lÃ  má»™t máº£ng JSON cÃ³ kÃ½ tá»± escape \, vÃ­ dá»¥ nhÆ° sau:

"[{\"name\":\"file1.txt\",\"link\":\"https://...\"}]"

LÆ°u Ã½:

ÄÃ¢y lÃ  string chá»©a JSON, chá»© khÃ´ng pháº£i JSON object thá»±c sá»±.

VÃ¬ váº­y báº¡n cáº§n chuyá»ƒn chuá»—i nÃ y thÃ nh máº£ng thá»±c trÆ°á»›c khi láº¥y Ä‘Æ°á»£c URL cá»§a file.



---

âœ… CÃ¡ch xá»­ lÃ½ trong Power Automate Ä‘á»ƒ láº¥y URL file Ä‘Ã­nh kÃ¨m:

ğŸ”§ BÆ°á»›c 1: DÃ¹ng hÃ m json() Ä‘á»ƒ chuyá»ƒn chuá»—i thÃ nh máº£ng

Giáº£ sá»­:

Biáº¿n Ä‘áº§u vÃ o lÃ  body('Get_response_details')?['fileUpload']

Hoáº·c lÃ : triggerOutputs()?['body/fileUpload']


Ta dÃ¹ng:

json(triggerOutputs()?['body/fileUpload'])

(hoáº·c thay triggerOutputs()?['body/fileUpload'] báº±ng Ä‘Ãºng chuá»—i báº¡n Ä‘ang dÃ¹ng)


---

ğŸ”§ BÆ°á»›c 2: Láº¥y URL tá»« pháº§n tá»­ Ä‘áº§u tiÃªn (náº¿u chá»‰ cÃ³ 1 file)

Giáº£ sá»­ sau bÆ°á»›c 1 báº¡n Ä‘Ã£ cÃ³ máº£ng, báº¡n cÃ³ thá»ƒ láº¥y link nhÆ° sau:

json(triggerOutputs()?['body/fileUpload'])[0]['link']


---

ğŸ§  Máº¹o: DÃ¹ng luÃ´n Compose Ä‘á»ƒ debug

1. Táº¡o 1 action Compose


2. Nháº­p ná»™i dung:



json(triggerOutputs()?['body/fileUpload'])[0]['link']

3. Cháº¡y thá»­ flow, báº¡n sáº½ tháº¥y URL file hiá»‡n ra rÃµ rÃ ng.




---

âœ… Káº¿t luáº­n

TÃ³m láº¡i, vá»›i máº£ng cÃ³ dáº¥u \ nhÆ° sau:

"[{\"name\":\"file1.txt\",\"link\":\"https://fileurl\"}]"

Báº¡n cáº§n:

json(triggerOutputs()?['body/fileUpload'])[0]['link']


---

Náº¿u báº¡n cáº§n xá»­ lÃ½ nhiá»u file Ä‘Ã­nh kÃ¨m, hÃ£y dÃ¹ng Apply to each Ä‘á»ƒ láº·p qua:

Apply to each => json(triggerOutputs()?['body/fileUpload'])
    -> Inside: Compose: item()?['link']


---

Báº¡n gá»­i thÃªm vÃ­ dá»¥ cá»¥ thá»ƒ náº¿u muá»‘n mÃ¬nh viáº¿t Ä‘áº§y Ä‘á»§ tá»«ng bÆ°á»›c nhÃ©.

